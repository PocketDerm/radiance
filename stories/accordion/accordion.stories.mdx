import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { useState } from 'react';
import { text, boolean } from '@storybook/addon-knobs';
import { action } from '@storybook/addon-actions';
import { Accordion, Typography } from 'src/shared-components';
import StandardAccordion from './standardAccordion';
import TruncatedAccordion from './truncatedAccordion';
import DisabledAccordion from './disabledAccordion';
import NoBorderAccordion from './noBorderAccordion';
import RightAlignedArrowAccordion from './rightAlignedArrowAccordion';
import ThumbnailsAccordion from './thumbnailsAccordion';
import { useAccordionState } from './utils';
import accountImage from 'shared/account.png';
import personImage from 'shared/person.jpg';

<Meta title="Accordion" component={Accordion} />

# Accordion

A list of items that allows each item's content to be expanded and collapsed by clicking its title bar.

## Usage

```tsx
import { Accordion } from 'radiance-ui';
```

<ArgsTable of={Accordion} />

The accordion component expands to reveal hidden information. They should be used when you need to fit a large amount of content but don't want to visually overwhelm the user.

### With Controls (use Knobs addon)

<Canvas>
  <Story name="With Controls">
    <Accordion.Container>
      <Accordion
        title={
          <Accordion.Content>
            <Accordion.Truncate>
              {text('Title text', 'Title')}
            </Accordion.Truncate>
          </Accordion.Content>
        }
        onClick={action('Accordion clicked')}
        isOpen={boolean('isOpen', false)}
        noBorder={boolean('noBorder', false)}
        disabled={boolean('disabled', false)}
        rightAlignArrow={boolean('rightAlignArrow', false)}
      >
        <Accordion.Content>
          {text('Expanded text', 'Accordion expanded content')}
        </Accordion.Content>
      </Accordion>
    </Accordion.Container>
  </Story>
</Canvas>

### Standard Accordion

Basic accordion styling, contains standard border, shadow and padding.

<Canvas>
  <Story name="Standard Accordion">
    <StandardAccordion />
  </Story>
</Canvas>

### Accordion - No Border

This accordion style permits usage without the border typically found on the accordion

<Canvas>
  <Story name="No Border">
    <NoBorderAccordion />
  </Story>
</Canvas>

### Disabled Accordion

The disabled accordion should only be used when the user is taking a clearly defined action in a series of tasks. A good example of this component is the photo uploader in the sign up flow. Accordion blocks which represent specific photos the user takes, remain disabled and closed until the respective steps are reached. The user is then auto-advanced through each accordion block.

<Canvas>
  <Story name="Disabled">
    <DisabledAccordion />
  </Story>
</Canvas>

### Right-aligned Arrow Accordion

<Canvas>
  <Story name="Right-aligned Arrow Accordion">
    <RightAlignedArrowAccordion />
  </Story>
</Canvas>

## Subcomponents

The `<Accordion />` component has subcomponents available through dot notation.

### Accordion with Thumbnails

The accordion style renders thumbnail images into the right hand side of the accordion header title bar. These thumbnail images represent images actually found in the `content` section of the accordion.

- **1 image:** Renders thumbnail of image

- **2 images:** Renders thumbnails of both images

- **3+ images:** Renders thumbnail of first image and a counter of additional images

<Canvas>
  <Story name="Thumbnails">
    <ThumbnailsAccordion />
  </Story>
</Canvas>

<ArgsTable of={Accordion.Thumbnails} />

### Container

Container to hold instances of `<Accordion>`

<Canvas>
  <Accordion.Container>
    <Accordion
      title={
        <Accordion.Content>
          This Accordion styled with an Accordion.Container parent component
        </Accordion.Content>
      }
      isOpen
    >
      <Accordion.Content>
        This Accordion styled with an Accordion.Container parent component
      </Accordion.Content>
    </Accordion>
  </Accordion.Container>
</Canvas>

### Content

Wraps padding around children nodes

<Canvas>
  <Accordion.Container>
    <Accordion title={<Accordion.Content>Title</Accordion.Content>}>
      <Accordion.Content>Expansion with content padding</Accordion.Content>
    </Accordion>
    <Accordion
      title={<Accordion.Content>Title (open)</Accordion.Content>}
      isOpen
    >
      <Accordion.Content>Expansion with content padding</Accordion.Content>
    </Accordion>
  </Accordion.Container>
</Canvas>

### Truncate

Prevents line-wrapping and shortens text with an ellipsis. Note: The ellipsis will only
be added if the text is a direct child.

<Canvas>
  <Story name="Truncated">
    <TruncatedAccordion />
  </Story>
</Canvas>
